describe('Open a New Red Tag', function () {
    var i = 1;
    it('0' + i + ' - Go to eRed Tag App', function () {
        cy.visit('http://sjo-testapp1/eredtag/index.php', {});
        cy.get('#loginModal').should('have.attr', 'aria-modal');
    });
    i++;
    it('0' + i + ' - Log in (Wrong)', function () {
        cy.wait(1000);
        cy.get('#email').type("wrong", { delay: 100 });
        cy.wait(1000);
        cy.get('#password').type("wrong", { delay: 100 });
        cy.wait(1000);
        cy.get('button').contains(' Iniciar sesión').click();
        cy.wait(1000);
        cy.get('#error').should('contain', 'Error, verifique usuario y contraseña!');
        cy.get('#password').clear();
        //cy.wait(1000);
        //cy.screenshot();
    });
    i++;
    it('0' + i + ' - Log in (Good)', function () {
        cy.get('#email').clear();
        cy.wait(1000);
        cy.get('#email').type("wotracker", { delay: 100 });
        cy.wait(1000);
        cy.get('#password').type("Microvention#44", { delay: 100 });
        cy.wait(1000);
        cy.get('button').contains(' Iniciar sesión').click();
        cy.wait(1000);
        cy.get('#area').should('not.be.disabled');
        cy.get('#areaFuncional').should('be.disabled');
        cy.get('#equipo').should('be.disabled');
        cy.get('#descEquipo').should('be.disabled');
        cy.get('#fallaGeneral').should('be.disabled');
        cy.get('#supervisor').should('be.disabled');
        cy.get('#lider').should('not.be.disabled');
        cy.get('#calibracion').should('be.disabled');
        cy.get('#mantenimiento').should('be.disabled');
        cy.get('#lot').should('not.be.disabled');
        cy.get('#pdnumber').should('be.disabled');
        cy.wait(1000);
        cy.get('#loginModal').should('have.attr', 'aria-hidden');
        //cy.screenshot();
    });
    i++;
    it('0' + i + ' - Select an Area', function () {
        cy.get('#area').select('Boxing');
        cy.wait(1000);
        cy.get('#areaFuncional').should('not.be.disabled');
        cy.get('#equipo').should('be.disabled');
        cy.get('#descEquipo').should('be.disabled');
        cy.get('#fallaGeneral').should('be.disabled');
        cy.get('#supervisor').should('be.disabled');
        cy.get('#supervisor').should('have.value', 'Fernando Castro');
        cy.get('#lider').should('not.be.disabled');
        cy.get('#calibracion').should('be.disabled');
        cy.get('#mantenimiento').should('be.disabled');
        cy.get('#lot').should('not.be.disabled');
        cy.get('#pdnumber').should('be.disabled');
    });
    i++;
    it('0' + i + ' - Select a Functional Area', function () {
        cy.get('#areaFuncional').select('TESTING');
        cy.wait(1000);
        cy.get('#equipo').should('not.be.disabled');
        cy.get('#descEquipo').should('be.disabled');
        cy.get('#fallaGeneral').should('not.be.disabled');
        cy.get('#supervisor').should('be.disabled');
        cy.get('#supervisor').should('have.value', 'Fernando Castro');
        cy.get('#lider').should('not.be.disabled');
        cy.get('#calibracion').should('be.disabled');
        cy.get('#mantenimiento').should('be.disabled');
        cy.get('#lot').should('not.be.disabled');
        cy.get('#pdnumber').should('be.disabled');
    });
    i++;
    it('0' + i + ' - Insert an Equipment ED', function () {
        cy.get('#equipo').type("ED2038-132", { delay: 100 });
        cy.get('#equipo').type('{enter}');
        cy.wait(1000);
        cy.get('#descEquipo').should('be.disabled');
        cy.get('#descEquipo').should('have.value', 'UV LIGHT');
        cy.get('#fallaGeneral').should('not.be.disabled');
        cy.get('#supervisor').should('be.disabled');
        cy.get('#supervisor').should('have.value', 'Fernando Castro');
        cy.get('#lider').should('not.be.disabled');
        cy.get('#calibracion').should('be.disabled');
        cy.get('#calibracion').should('have.value', 'N/A');
        cy.get('#mantenimiento').should('be.disabled');
        cy.get('#mantenimiento').should('have.value', '13-Apr-2021');
        cy.get('#lot').should('not.be.disabled');
        cy.get('#pdnumber').should('be.disabled');
    });
    i++;
    it('0' + i + ' - Click on Open Red Tag Button with Incomplete Data', function () {
        cy.get('#save').click();
        cy.get('#alertMessage').should('have.class', 'alert alert-danger');
        cy.get('#alertText').contains('Blanks not allowed!');
        cy.wait(2000);
        //cy.screenshot();
    });
    i++;
    it('0' + i + ' - Select a General Failure and Lead', function () {
        cy.get('#fallaGeneral').select('TEST');
        cy.get('#lider').select('Maria Cordoba Cordoba');
        cy.wait(1000);
        cy.get('#descEquipo').should('be.disabled');
        cy.get('#descEquipo').should('have.value', 'UV LIGHT');
        cy.get('#supervisor').should('be.disabled');
        cy.get('#supervisor').should('have.value', 'Fernando Castro');
        cy.get('#lider').should('not.be.disabled');
        cy.get('#calibracion').should('be.disabled');
        cy.get('#calibracion').should('have.value', 'N/A');
        cy.get('#mantenimiento').should('be.disabled');
        cy.get('#mantenimiento').should('have.value', '13-Apr-2021');
        cy.get('#lot').should('not.be.disabled');
        cy.get('#pdnumber').should('be.disabled');
    });
    i++;
    it('0' + i + ' - Click on Open Red Tag Button with Same Opened Red Tag', function () {
        cy.wait(5000);
        cy.get('#save').click();
        cy.get('#alertMessage').should('have.class', 'alert alert-danger');
        cy.get('#alertText').contains('Red Tag already opened');
        cy.wait(2000);
        //cy.screenshot();
    });
    i++;
    it(i + ' - Click on Open Red Tag Button with Correct Information', function () {
        cy.get('#equipo').clear();
        cy.get('#equipo').type("ED2038-133", { delay: 100 });
        cy.get('#equipo').type('{enter}');
        cy.wait(1000);
        cy.get('#descEquipo').should('be.disabled');
        cy.get('#descEquipo').should('have.value', 'UV LIGHT');
        cy.get('#fallaGeneral').should('not.be.disabled');
        cy.get('#supervisor').should('be.disabled');
        cy.get('#supervisor').should('have.value', 'Fernando Castro');
        cy.get('#lider').should('not.be.disabled');
        cy.get('#calibracion').should('be.disabled');
        cy.get('#calibracion').should('have.value', 'N/A');
        cy.get('#mantenimiento').should('be.disabled');
        cy.get('#mantenimiento').should('have.value', '06-Apr-2021');
        cy.get('#lot').should('not.be.disabled');
        cy.get('#pdnumber').should('be.disabled');
        cy.wait(5000);
        cy.get('#save').click();
    });
    i++;
    it(i + ' - Show a Success Message', function () {
        //cy.wait(5000);
        cy.get('#save').click();
        cy.get('#alertMessage').should('have.class', 'alert alert-success');
        cy.get('#alertText').contains('Red Tag sent!');
        cy.wait(2000);
        //cy.screenshot();
    });
});